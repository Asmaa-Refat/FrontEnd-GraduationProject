<html dir="rtl">
<div class="container" id="charts">
    <div [chart]="citizenDonutChart"></div>
    <div [chart]="branchDonutChart"></div>
    <div [chart]="agencyDonutChart"></div>

</div>
<hr
    style="margin:30px auto; border-top: 2px solid black; font-weight: bold; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);">
<div class="supervisorTable">
    <h4 style="text-align:center;">جدول بيانات مديرين الجهات الجُدد</h4>
    <table>
        <thead style="background-color: #004f83; color: white; ">
            <tr>
                <th scope="col">اسم مدير الجهه</th>
                <th scope="col">الرقم التعرفي</th>
                <th scope="col">موافقه</th>
                <th scope="col">رفض</th>
            </tr>
        </thead>

        <tbody style="background-color: #ffff;" *ngIf="unapprovedBranchSupervisors.length > 0; else noData">
            <tr class="table-light" id="positive" *ngFor="let supervisor of unapprovedAgencySupervisors">
                <th scope="row">{{ supervisor["name"] }}</th>
                <td>{{ supervisor["govId"] }}</td>
                <td>
                    <button type="button" class="btn btn-success" (click)="approveAgencySupervisorRow(supervisor)">
                        <i class="fa fa-check"></i>
                    </button>
                </td>
                <td>
                    <button type="button" class="btn btn-danger" (click)="deleteAgencySupervisorRow(supervisor)">
                        <i class="fa fa-times"></i>
                    </button>
                </td>
            </tr>
        </tbody>
        <ng-template #noData>
            <tr>
                <td colspan="4">
                    <b>
                        لا يوجد بيانات
                    </b>
                </td>
            </tr>
        </ng-template>

    </table>
</div>

<div class="supervisorTable">
    <h4 style="text-align:center;">جدول بيانات مديرين الفروع الجُدد</h4>
    <table>

        <thead style="background-color: #004f83; color: white; ">
            <tr>
                <th scope="col">اسم مدير الفرع</th>
                <th scope="col">الرقم التعرفي</th>
                <th scope="col">موافقه</th>
                <th scope="col">رفض</th>
            </tr>
        </thead>
        <tbody style="background-color: #ffff;" *ngIf="unapprovedBranchSupervisors.length > 0; else noData">
            <tr class="table-light" id="positive" *ngFor="let supervisor of unapprovedBranchSupervisors">
                <th scope="row">{{ supervisor["name"] }}</th>
                <td>{{ supervisor["govId"] }}</td>
                <td>
                    <button type="button" class="btn btn-success" (click)="approveBranchSupervisorRow(supervisor)">
                        <i class="fa fa-check"></i>
                    </button>
                </td>
                <td>
                    <button type="button" class="btn btn-danger" (click)="deleteBranchSupervisorRow(supervisor)">
                        <i class="fa fa-times"></i>
                    </button>
                </td>
            </tr>
        </tbody>
        <ng-template #noData>
            <tr>
                <td colspan="4">
                    <b>
                        لا يوجد بيانات
                    </b>
                </td>

            </tr>
        </ng-template>
    </table>
</div>
<hr>
<div class="d-flex flex-column flex-lg-row  bg-surface-secondary container" dir="rtl" id="main-content">
    <div class="h-screen flex-grow-1 overflow-y-lg-auto">
        <main class="py-6 bg-surface-secondary">
            <div class="container-fluid">
                <div class="row">
                    <div>
                        <div style="font-size: 30px">
                            ادخال بيانات الجهه الجديدة
                        </div>
                        <hr class="col-md-12" />
                        <form class="mb-6 row mb-3" style="font-size: 20px" [formGroup]="agencyForm">
                            <label for="agencyName">Agency Name:</label>
                            <input id="agencyName" type="text" formControlName="agencyName">
                            
                            <div formArrayName="branches">
                              <div *ngFor="let branch of agencyForm.get('branches').controls; let i=index" [formGroupName]="i">
                                <label for="branchName">Branch Name:</label>
                                <input id="branchName" type="text" formControlName="branchName">
                                
                                <div formArrayName="services">
                                  <div *ngFor="let service of branch.get('services').controls; let j=index" [formGroupName]="j">
                                    <label for="serviceName">Service Name:</label>
                                    <input id="serviceName" type="text" formControlName="serviceName">
                                    <label for="serviceType">ServiceType:</label>
                                    <input id="serviceType" type="text" formControlName="type">
                       
                                    
                                    <div formArrayName="documents">
                                      <div *ngFor="let document of service.get('documents').controls; let k=index" [formGroupName]="k">
                                        <label for="documentName">Document Name:</label>
                                        <input id="documentName" type="text" formControlName="name">
                                        <button type="button" (click)="removeDocument(service, k)">Remove Document</button>
                                      </div>
                                    </div>
                                    <button type="button" (click)="addDocument(service)">Add Document</button>
                                    <button type="button" (click)="removeService(branch, j)">Remove Service</button>
                                  </div>
                                  <button type="button" (click)="addService(branch)">Add Service</button>
                                </div>
                                <button type="button" (click)="removeBranch(i)">Remove Branch</button>
                              </div>
                            </div>
                            
                            <button type="button" (click)="addBranch()">Add Branch</button>
                            <!--<div class="row mb-3">
                                <div class="col-md-12">
                                    <div>
                                        <label class="form-label" for="name">
                                            <b> اسم الجهه</b>
                                        </label>
                                        <input type="text" class="form-control" id="name"
                                            formControlName="serviceName" />
                                        <label class="form-label" for="password">
                                            <b> اضافه فرع للجهه
                                            </b>
                                            <i class="fa fa-plus" style="color: green;"
                                                (click)="generateBranchDetails()"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row mb-4">
                                <div class="col-md-12">
                                   
                                </div>
                            </div>-->

                            <button type="button" class="btn container" style="width: 15%; background-color: #35e0c2">
                                اضافه الجهه
                            </button>

                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>



</html>